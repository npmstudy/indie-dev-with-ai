---
title: å†™æ–‡æ¡£
description: A guide in my new Starlight docs site.
---

import { Card, CardGrid } from '@astrojs/starlight/components';

import Comments from '../../../components/Comment.jsx';

<CardGrid>
  <Card title="Starlight" icon="star">
    æœ€ç®€å•å†™æ–‡æ¡£çš„å·¥å…·
  </Card>
  <Card title="Vercel" icon="moon">
    æœ€æ–¹ä¾¿çš„å’Œci/cdé›†æˆçš„éƒ¨ç½²å¹³å°
  </Card>
</CardGrid>



## ä½¿ç”¨Starlightåˆ›å»ºé¡¹ç›®

Starlightæ˜¯Astroçš„æ–‡æ¡£æ¨¡ç‰ˆã€‚

```js
$ npm create astro@latest -- --template starlight
Need to install the following packages:
create-astro@4.7.4
Ok to proceed? (y)

 astro   Launch sequence initiated.

   dir   Where should we create your new project?
         ./site
      â—¼  tmpl Using starlight as project template

    ts   Do you plan to write TypeScript?
         No
      â—¼  No worries! TypeScript is supported in Astro by default,
         but you are free to continue writing JavaScript instead.

  deps   Install dependencies? (recommended)
         â— Yes  â—‹ No
   git   Initialize a new git repository?
         â— Yes  â—‹ No

 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  Project initializing...
         â–¶ Template copying...
         â–¡ Dependencies
         â–¡ Git

 next   Liftoff confirmed. Explore your project!

         Enter your project directory using cd ./site
         Run npm run dev to start the dev server. CTRL+C to stop.
         Add frameworks like react or tailwind using astro add.

         Stuck? Join us at https://astro.build/chat

â•­â”€â”€â”€â”€â”€â•®  Houston:
â”‚ â—  â—¡ â—   Good luck out there, astronaut! ğŸš€
â•°â”€â”€â”€â”€â”€â•¯
```

å¯åŠ¨æœåŠ¡ã€‚å¦‚æœä¸Šé¢ä½ é€‰äº†Install dependencies=yesï¼Œå°±ä¸ç”¨æ‰‹åŠ¨æ‰§è¡Œnpm installï¼Œå¦‚æœ=noï¼Œä½ éœ€è¦æ‰‹åŠ¨æ‰§è¡Œnpm installã€‚

```
$ npm run dev

> site@0.0.1 dev
> astro dev

17:04:32 [vite] Port 4321 is in use, trying another one...

 astro  v4.5.4 ready in 1183 ms

â”ƒ Local    http://localhost:4322/
â”ƒ Network  use --host to expose

17:04:32 watching for file changes...
17:04:40 [200] / 384ms
```

![](../../../assets/scenes/starlight.jpg)


## ç†è§£Starlight

### æ–‡ä»¶å³è·¯ç”±

- æ¯”å¦‚index.mdxå¯¹åº”çš„è·¯ç”±å°±æ˜¯/
- æ¯”å¦‚user.mdxå¯¹åº”çš„è·¯ç”±å°±æ˜¯/user
- æ¯”å¦‚/docs/user.mdxå¯¹åº”çš„è·¯ç”±å°±æ˜¯/docs/user


![](../../../assets/scenes/starlight-content.jpg)


### æ”¯æŒçš„æ–‡ä»¶ç±»å‹

å‚è€ƒAstro[å®˜æ–¹æ–‡æ¡£](https://docs.astro.build/en/basics/astro-pages/)ã€‚

```js
Astro supports the following file types in the src/pages/ directory:

- .astro
- .md
- .mdx (with the MDX Integration installed)
- .html
- .js/.ts (as endpoints)
```

æˆ‘ä¸€èˆ¬å–œæ¬¢

- å†™æ–‡æ¡£æ¨èç”¨mdxï¼ŒåŸå› æ˜¯å®ƒå¯ä»¥å’Œreactã€vueç»„ä»¶é›†æˆæ›´æ–¹ä¾¿ã€‚
- å†™é¡µé¢æ¨èç”¨.js/.tsï¼ŒåŸå› æ˜¯å®ƒreactå†™çš„æ¯”è¾ƒå¤šã€‚


## Vercelå‘å¸ƒ

Vercel æ˜¯ä¸€ä¸ªäº‘æœåŠ¡å¹³å°ï¼Œæ”¯æŒé™æ€ç½‘ç«™å’ŒåŠ¨æ€ç½‘ç«™çš„åº”ç”¨éƒ¨ç½²ã€é¢„è§ˆå’Œä¸Šçº¿ã€‚Vercel è‡ªèº«å†…ç½® CIï¼ˆæŒç»­é›†æˆï¼‰/CD(æŒç»­å‘å¸ƒ)ï¼Œåªè¦ä½ å°† Github é¡¹ç›®ä¸ Vercel å…³è”ï¼Œåœ¨ GitHub é¡¹ç›®è¿›è¡Œä»£ç æ¨é€ï¼ŒPRåˆå¹¶è‡ªåŠ¨éƒ¨ç½²çš„ç›®çš„ï¼Œä¸”ä½ ä¸éœ€è¦è€ƒè™‘æœåŠ¡å™¨éƒ¨ç½²é—®é¢˜ã€‚

Vercel ä¼˜åŠ¿å¦‚ä¸‹ã€‚

- ä¸ªäººç‰ˆæ°¸ä¹…å…è´¹ï¼Œæ¯ä¸ªæœˆ 100G å¸¦å®½ï¼ˆåˆ«äººè®¿é—®ä½ çš„é¡¹ç›®æ‰€è€—è´¹çš„æµé‡ï¼‰ï¼Œä¸ªäººé¡¹ç›®éƒ¨ç½²å®Œå…¨å¤Ÿç”¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å›¢é˜Ÿæ¨¡å¼æ”¶è´¹ï¼Œæ‰€ä»¥è¦åä½œä½ åªèƒ½ä»˜è´¹ã€‚ç­‰ä½ çš„é¡¹ç›®éœ€è¦ä»˜è´¹äº†ï¼Œä½ å¯èƒ½å·²ç»éå¸¸æˆåŠŸäº†ã€‚
- å†…ç½® CI/CDï¼Œåªéœ€è¦å°†é¡¹ç›®å¯¼å…¥ Vercel ï¼Œä¸€å¥å‘½ä»¤è‡ªåŠ¨éƒ¨ç½²ã€‚
- å› ä¸ºå†…ç½®æ„å»ºæµç¨‹ï¼Œæ”¯æŒä»£ç æ¨é€ã€PR è‡ªåŠ¨è§¦å‘æ„å»ºï¼Œä¸åŒåˆ†æ”¯å”¯ä¸€åœ°å€ï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚
æ”¯æŒæœ¬åœ°ã€æµ‹è¯•ã€ç”Ÿäº§ä¸‰ç§ç¯å¢ƒéƒ¨ç½²ï¼Œä»…ä»…æ˜¯å‘½ä»¤åŒºåˆ«ï¼Œä¸Šæ‰‹æˆæœ¬æä½ã€‚
- ä¸°å¯Œçš„é›†æˆèƒ½åŠ›ï¼Œé¡¹ç›®éƒ¨ç½²è‡ªåŠ¨ç›‘æ§ï¼Œç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•ç­‰ç­‰ï¼Œå½“ç„¶è¿™äº›å¹¶å¹¶å±äº Vercel è‡ªèº«çš„èƒ½åŠ›ï¼Œä½†å®ƒå¯ä»¥ä¸ºä½ æä¾›é›†æˆå…¥å£ï¼Œè®©è¿™äº›æˆä¸ºä½ è‡ªåŠ¨éƒ¨ç½²ä¸­è‡ªåŠ¨è¿›è¡Œçš„ä¸€æ­¥ï¼Œæ¯”å¦‚æ„å»ºç”Ÿäº§åè‡ªåŠ¨å®Œæˆæ€§èƒ½æŒ‡æ ‡è¾“å‡ºï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»¥åŠåç»­é¡¹ç›®ç›‘æ§ç­‰ç­‰ã€‚


### ç™»é™†

æˆ‘æ¨èç”¨Githubè´¦æˆ·ã€‚

![](../../../assets/scenes/vercel-login.jpg)


### å¯¼å…¥Githubé¡¹ç›®

![](../../../assets/scenes/vercel-import.jpg)

å†æäº¤Githubä»£ç ï¼Œå°±ä¼šè‡ªåŠ¨è§¦å‘Vercelçš„éƒ¨ç½²ï¼Œéå¸¸æ–¹ä¾¿ã€‚

![](../../../assets/scenes/vercel-deploy.jpg)

ä¸€èˆ¬æˆ‘ä»¬ä¼šæœ‰testã€preã€prodç­‰ç¯å¢ƒï¼Œåé¢ä¸“é—¨è®²è§£ã€‚

### ç»‘å®šåŸŸå

1ã€åŸŸåï¼Œç”¨aç±»æ¥å…¥


![](../../../assets/scenes/domain-config.jpg)

2ã€å­åŸŸåï¼Œç”¨cnameæ¥å…¥

![](../../../assets/scenes/vercel-cname.jpg)

æ‰˜ç®¡åˆ°vercelï¼Œæ‰€ä»¥vercelä¼šè‡ªåŠ¨æ£€æµ‹

## æ–°å¢é¡µé¢

å’Œastroä¸€æ ·ã€‚

æ¯”å¦‚æˆ‘åœ¨src/content/docsä¸‹æ–°å¢ç©ºçš„fe.mdxï¼Œè¿™æ—¶å€™ç¼–è¯‘ä¼šæŠ¥é”™ã€‚

```
13:42:39 [ERROR] [InvalidContentEntryFrontmatterError] docs â†’ fe.mdx frontmatter does not match collection schema.
title: Required
  Hint:
    See https://docs.astro.build/en/guides/content-collections/ for more information on content schemas.
  Error reference:
    https://docs.astro.build/en/reference/errors/invalid-content-entry-frontmatter-error/
  Stack trace:
    at getEntryData (file:///Users/npmstudy/workspace/npmstudy/indie-dev-with-ai/node_modules/astro/dist/content/utils.js:86:26)
    [...] See full stack trace in the browser, or rerun with --verbose.

```

åŸå› æ˜¯titleä¸å­˜åœ¨ï¼Œä½†å®ƒåˆæ˜¯å¿…é¡»çš„ã€‚astroè¿™ä¸ªHintæç¤ºè¿˜ä¸é”™ã€‚

æ­¤æ—¶åœ¨fe.mdxé‡Œå¢åŠ ä¸‹é¢ä¸€æ®µæ–‡æœ¬å³å¯ã€‚

```
---
title: è¿™æ˜¯ä¸€ç¯‡reactè‡ªå­¦è·¯å¾„æŒ‡å—
description: A guide in react roadmap for self-study.
---
```

æ³¨æ„

- æ”¾åˆ°æœ€ä¸Šé¢ï¼Œç©ºè¡Œéƒ½ä¸èƒ½æœ‰ã€‚

æ›´å¤šé…ç½®é¡¹å‚è€ƒ https://starlight.astro.build/reference/frontmatter/ã€‚å¦‚æœå¤§å®¶ç†Ÿæ‚‰hugoç­‰éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œå‚è€ƒ https://gohugo.io/content-management/front-matter/ã€‚


## ä½¿ç”¨å†…ç½®ç»„ä»¶

ä½¿ç”¨å†…ç½®ç»„ä»¶ï¼Œæ–‡æ¡£ https://starlight.astro.build/guides/components/ã€‚å†…ç½®ç»„ä»¶éƒ½æ˜¯å¹³æ—¶å†™æ–‡æ¡£ä¸­æˆ‘ä»¬æœ€é•¿ä½¿ç”¨çš„ã€‚

å†…ç½®ç»„ä»¶åå•

- Tabs
- Cards
- Link Cards
- Asides
- Code
- File Tree
- Steps
- Icon

ä¸¾ä¸ªä¾‹å­ï¼Œæœ¬æ–‡æ¡£ï¼Œæœ€ä¸Šé¢çš„ä»£ç å³å†…ç½®ç»„ä»¶è°ƒç”¨ã€‚

```js
import { Card, CardGrid } from '@astrojs/starlight/components';

import Comments from '../../../components/Comment.jsx';

<CardGrid>
  <Card title="Starlight" icon="star">
    æœ€ç®€å•å†™æ–‡æ¡£çš„å·¥å…·
  </Card>
  <Card title="Vercel" icon="moon">
    æœ€æ–¹ä¾¿çš„å’Œci/cdé›†æˆçš„éƒ¨ç½²å¹³å°
  </Card>
</CardGrid>
```


## æ–°å¢Reactç»„ä»¶


å¢åŠ reactæ”¯æŒï¼Œéœ€è¦å…ˆå®‰è£…reactä¾èµ–çš„ï¼Œæ­¤æ­¥éª¤å¿…é€‰ã€‚

```should
$ npx astro add react
```

å®˜æ–¹æ–‡æ¡£é‡Œçš„ç»„ä»¶ç”¨æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼Œå®ƒåªæ˜¯æ¼”ç¤ºäº†å¦‚ä½•åº”ç”¨.astroç»„ä»¶çš„ç”¨æ³•ã€‚

```js
---
title: Welcome to my docs
---

import SomeComponent from '../../components/SomeComponent.astro';
import AnotherComponent from '../../components/AnotherComponent.astro';

<SomeComponent prop="something" />

<AnotherComponent>
  Components can also contain **nested content**.
</AnotherComponent>
```

.astroç»„ä»¶å’Œreactç»„ä»¶ï¼Œå…¶å®æ²¡å•¥æœ¬è´¨åŒºåˆ«ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„å°±æ˜¯ç»„ä»¶åŠ è½½å£°æ˜å‘¨æœŸæ§åˆ¶ï¼Œå³ä½¿ç”¨clientæŒ‡ä»¤ã€‚

- `client:load` å®ƒçš„æ„æ€Load and hydrate the component JavaScript immediately on page load.
- `client:only={string}` å›è·³è¿‡HTML server-rendering, å¹¶ä¸”åªåœ¨clientä¸Šæ¸²æŸ“ã€‚

ä½¿ç”¨Reactç»„ä»¶ï¼Œè¿™é‡Œä»¥è¯„è®ºä¸ºä¾‹

```
<Comments client:only="react" />
```

åœ¨src/componentsä¸‹æ–°å»ºComment.jsxï¼Œè¿™ä¸ªè¯„è®ºæœåŠ¡ï¼Œé‡‡ç”¨çš„æ˜¯giscusï¼Œå³åŸºäºgithubçš„discussionsæ¥å®ç°çš„ï¼Œæ•°æ®å­˜åœ¨githubä¸Šï¼Œå¯¹äºå…¬å¼€å’Œé¢å‘å¼€å‘çš„è¯„è®ºæ˜¯æ¯”è¾ƒå‹å¥½çš„ã€‚

```js
// @ts-nocheck
import * as React from "react"
import Giscus from "@giscus/react"

const id = "inject-comments"

function getSavedTheme() {
  return window.localStorage.getItem("starlight-theme")
}

function getSystemTheme() {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light"
}

const Comments = () => {
  const [mounted, setMounted] = React.useState(false)
  const [theme, setTheme] = React.useState(getSavedTheme() || getSystemTheme())

  React.useEffect(() => {
    // ç›‘å¬ä¸»é¢˜å˜åŒ–
    const observer = new MutationObserver(() => {
      setTheme(getSavedTheme())
    })
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ["data-theme"],
    })

    // å–æ¶ˆç›‘å¬
    return () => {
      observer.disconnect()
    }
  }, [])

  React.useEffect(() => {
    setMounted(true)
  }, [])

  return (
    <div id={id} style={{ marginTop: "50px" }}>
      {mounted ? (
        <Giscus
          id={id}
          repo="npmstudy/indie-dev-with-ai"
          repoId="R_kgDOLgl_xw"
          category="Announcements"
          categoryId="DIC_kwDOLgl_x84CeBtg"
          mapping="pathname"
          reactionsEnabled="1"
          emitMetadata="0"
          inputPosition="top"
          lang="zh-CN"
          loading="lazy"
          theme={theme}
        />
      ) : null}
    </div>
  )
}

export default Comments
```
è‡³äºä¸Šé¢çš„é…ç½®ï¼Œå‚è€ƒhttps://giscus.app/zh-CNã€‚

- å…ˆè®¾ç½®github repoï¼Œå¢åŠ discussions
- ç„¶ååˆ°https://giscus.app/zh-CNä¸Šï¼Œè¾“å…¥repo urlï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸Šé¢éœ€è¦çš„å‚æ•°
- æ›´æ–°åˆ°ç»„ä»¶ä¸­å³å¯


è¿™ä¸‹é¢æ˜¯æ¼”ç¤ºçš„è¯„è®ºç»„ä»¶ï¼Œä¹Ÿæ˜¯å¯ä»¥çœŸæ˜¯ç”¨çš„ã€‚

<Comments client:only="react" />
